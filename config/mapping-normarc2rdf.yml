---
# YAML FILE WITH MAPPING OF NORMARC TO RDF
#
# TWO MAIN BLOCKS, substitutes (for character substitution) and tags (for mapping of RDF values to tags and subfields
#
# TAGS 001-009 are controlfields and are managed in special routine
# rest are looped by subfield values (a,b,c,etc.)
# subfield values can also be arrays (eg. 090)
#
# PREDICATES 
#   either direct mapping or conditional:
#   - subfield values (eg. 015):
#      orig: regex value(s) separated with |
#      subs: hash array of { key: 'value' }, where key matches orig and 'value' is predicate
#      default: in case no match, replace with this
#   - indicators (eg. 240)
#      indicator1: indicator 1/2 with hash array of { key: 'value' }, where key is "0","1", etc. and 'value' is predicate
#      default: 'http://rdf.deichman.no/originalTitle'
#
# OBJECTS
# objects can be given various options:
#   substr_offset: 
#   substr_length: 
#   prefix: prefix for object generation
#   datatype: literal, string, integer, etc.
#   regex_strip: regex to remove unwanted characters
#   regex_split: regex to split string into several objects
#   regex_replace:  hash array of replaces matched agains substitutes block above
#   regex_substitute:  hash of 'orig', 'subs', and 'default' to map object substitutions
#   lang:  must be valid encoding type (eg. lang: :no)
#   combine: fields to combine
#   combinestrings: string to combine with
#
# RELATION
# 
# object relation by new class and further subfield loops

substitutes: {'Æ': Ae,  'Ø': Oe,  'Å': Aa,  'æ': ae,  'ø': oe,  'å': aa,  'Ä': Ae,  'Ö': Oe,  'ä': ae, 'ö': oe,  ' ': '_', 'é': e, 'è': e, 'ê': e, 'á': a, 'à': a, 'â': a, 'ã': a, 'í': i, 'ì': i, 'î': i, 'ĩ': i, 'ó': o, 'ò': o, 'ô': o, 'õ': o, 'ú': u, 'ù': u, 'û': u, 'ũ': u}

tags:
  "001": 
    titleNumber:
      predicate: http://purl.org/dc/terms/identifier
      object:
        datatype: literal 
          
  "008":
    cataloguingDate:
      predicate: http://rdf.deichman.no/cataloguingDate
      object:
        substr_offset: 0
        substr_length: 6
        datatype: literal
    periodicaType:
      predicate: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'
      object:
        prefix: http://dbpedia.org/resource/
        substr_offset: 21
        substr_length: 1
        regex_substitute: 
          orig: "a|n|p"
          subs: { "a": 'Yearbook', "n": 'Newspaper', "p": 'Journal' }
          default: Newspaper
        datatype: uri         
    audience:
      predicate: http://purl.org/dc/terms/audience
      object:
        prefix: http://rdf.deichman.no/audience/
        substr_offset: 22
        substr_length: 1
        regex_substitute: 
          orig: "a|j"
          subs: { "a": 'adult', "j": 'juvenile' }
          default: adult
        datatype: uri
    contentCode:
      predicate: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'
      object:
        prefix: http://dbpedia.org/resource/
        substr_offset: 24
        substr_length: 4
        regex_split: "(\w{1})"
        regex_substitute: 
          orig: "a|b|d|e|f|h|i|k|l|m|o|r|s|w|x"
          subs: { "a": 'R%C3%A9sum%C3%A9', "b": 'Bibliography', "d": 'Dictionary', "e": 'Encyclopedia', "f": 'User_guide', "h": 'Yearbook', "i": 'Back-of-the-book_index', "k": 'Discograhy', "l": 'Legal_writing', "m": 'Thesis', "o": 'Review', "r": 'Reference_work', "s": 'Statistics', "x": 'Dissertation' }
          default: Document
        datatype: uri        
    literaryformat:
      predicate: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'
      object:
        prefix: http://dbpedia.org/resource/
        substr_offset: 33
        substr_length: 1
        regex_substitute: 
          orig: "0|1"
          subs: { "0": 'Non-fiction', "1": 'Fiction' }
          default: Fiction
        datatype: uri
    biocontent:
      predicate: http://rdf.deichman.no/bioContent
      object:
        prefix: http://rdf.deichman.no/bioContent/
        substr_offset: 34
        substr_length: 1
        regex_substitute: 
          orig: "0|1|a|b|c|d"
          subs: { "0": 'nonBiography', "1": 'biography', "a": 'autobiography', "b": 'monoBiography', "c": 'collectedBiography', "d": 'partlyBiographic' }
          default: biography        
        datatype: uri
    language:
      predicate: http://purl.org/dc/terms/language
      object:
        prefix: http://lexvo.org/id/iso639-3/
        substr_offset: 35
        substr_length: 3
        datatype: uri
      relation: 
        class: http://lexvo.org/ontology#Language
    script:
      predicate: http://rdf.deichman.no/script
      object:
        prefix: http://dbpedia.org/resource/
        substr_offset: 38
        substr_length: 1
        regex_substitute: 
          orig: "a|b|c|d|e|f|g|i|l|m"
          subs: { "a": 'ISO_basic_Latin_alphabet', "b": 'Latin-derived_alphabet', "c": 'Cyrillic_script', "d": 'Japanese_writing_system', "e": 'Chinese_characters', "f": 'Arabic_alphabet', "g": 'Greek_alphabet', "i": 'Thai_alphabet', "l": 'Tamil_alphabet', "m": 'Blackletter' }
          default: biography        
        datatype: uri        
        
  "015": 
    subfield:
      a:
        conditions:
          subfield:
            b: 
              orig: "bibbi|bibliofilid|dugnadsbasenibibliofil"
              subs: { bibbi: 'http://rdf.deichman.no/bsID', bibliofilid: 'http://rdf.deichman.no/bibliofilID', dugnadsbasenibibliofil: 'http://rdf.deichman.no/dugnadsbasenibibliofilID' }
              default: 'http://rdf.deichman.no/bibliofilID'
        object: 
          datatype: literal
 
  "019": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/terms/audience
        object: 
          prefix: http://rdf.deichman.no/audience/ages_
          regex_split: ", *"
          regex_substitute: 
            orig: "a|bu|mu|b|u"
            subs: { "a": '0-5', "b": '6-7', "bu": '8-9', "u": '10-11', "mu": '12-15' }
            default: 'all'    
          datatype: uri
      b: 
        predicate: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'
        object:
          prefix: http://dbpedia.org/resource/
          regex_split: ", *"
          regex_substitute: 
            orig: "ab|da|db|dc|dd|de|dg|dh|di|dj|dz|ed|ee|ef|fd|ff|fm|ga|gb|gc|gd|ge|gg|gi|h|ib|ic|ma|mb|mc|mj|mn|mo|na|sm|vo|a|b|c|j|l"
            subs: { "a": 'Map', "ab": 'Atlas', "b": 'Manuscript', "c": 'Sheet_music', "da": 'Gramophone_record', "db": 'Compact_Cassette', "dc": 'Compact_Disc', "dd": 'Digi_book', "de": 'Digi_card', "dg": 'Music', "dh": 'Language_education', "di": 'Audiobook', "dj": 'Spoken_word_album', "dz": 'MP3', "ef": 'Blu-ray_Disk', "gg": 'Blu-ray_Disk', "ed": 'Videotape', "ee": 'DVD', "fd": 'Reversal_film', "ff": 'Photography', "fm": 'Poster', "ga": 'Computer_file', "gb": 'Floppy_disk', "gc": 'DVD-ROM', "gd": 'CD_ROM', "ge": 'Web_page', "gi": 'Nintendo_optical_disc', "h": 'Physical_body', "ib": 'Microfilm', "ic": 'Microcard', "j": 'Periodical_literature', "l": 'Book', "ma": 'Personal_computer_game', "mb": 'Playstation_2_games', "mc": 'Playstation_3_games', "mj": 'Xbox_360_games', "mn": 'Nintendo_Game_Card', "mo": 'Nintendo_optical_disc', "na": 'Portable_Document_Format', "sm": 'Magazine', "vo": 'File_folder' }
            default: Document           
          datatype: uri
      d: 
        predicate: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'
        object: 
          prefix: http://dbpedia.org/resource/
          regex_split: "(\w{1})"
          regex_substitute: 
            orig: "a|b|d|l|n|p|r|s|t"
            subs: { "a": 'Anthology', "b": 'Picture_book', "d": 'Poetry', "l": 'Textbook', "n": 'Short_stories', "p": 'Pointing_book', "r": 'Novel', "s": 'Play_%28theatre%29', "t": 'Comic_book' }
            default: novel 
          datatype: uri
      e: 
        predicate: http://rdf.deichman.no/facilitation
        object: 
          prefix: http://rdf.deichman.no/facilitation/
          regex_split: "(\w{2})"
          regex_substitute: 
            orig: "ta|tb|tc|td|te|tf|tg|tj"
            subs: { "ta": 'simpleText', "tb": 'simpleContent', "tc": 'largePrint', "td": 'largePrint', "te": 'braille', "tf": 'signLanguage', "tg": 'tactile', "tj": 'capitalized' }
            default: simpleText           
          datatype: uri
      s: 
        predicate: http://rdf.deichman.no/ageLimit
        object: 
          prefix: http://rdf.deichman.no/ageLimit/
          datatype: uri                     

  "020": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/isbn
        object: 
          regex_strip: "[\D]+"
          datatype: literal
      b: 
        predicate: http://rdf.deichman.no/bindingInfo
        object: 
          prefix: http://rdf.deichman.no/bindingInfo/        
          regex_strip: "[\W]+"
          datatype: uri
      c: 
        predicate: http://rdf.deichman.no/priceInfo
        object: 
          datatype: literal

  "022": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/issn
        object:
          regex_strip: "[\D]+"
          datatype: literal

  "025": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/eanucc13
        object:
          regex_strip: "[\D]+"
          datatype: literal          

  "041": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/term/language
        object: 
          prefix: http://lexvo.org/id/iso639-3/
          regex_strip: "[\W]+"
          regex_split: "(\w{3})"
          datatype: uri 

      b: 
        predicate: http://rdf.deichman.no/subTitles
        object:
          prefix: http://lexvo.org/id/iso639-3/
          regex_strip: "[\W]+"
          regex_split: "(\w{3})"
          datatype: uri 

      h: 
        predicate: http://rdf.deichman.no/originalLanguage
        object: 
          prefix: http://lexvo.org/id/iso639-3/
          regex_strip: "[\W]+"
          regex_split: "(\w{3})"
          datatype: uri 
                                
  "082": 
    subfield: 
      a:
        conditions: 
          indicator:
            indicator1: { "3": 'http://rdf.deichman.no/dewey', " ": 'http://rdf.deichman.no/localCode' }
            default: 'http://rdf.deichman.no/dewey'
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal
                
  "090": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/location
        object:
          datatype: literal
      b:
        predicate: http://purl.org/dc/terms/location
        object:
          datatype: literal
      c:
        predicate: http://purl.org/dc/terms/location
        object:
          datatype: literal
      d:
        predicate: http://purl.org/dc/terms/location
        object:
          datatype: literal
                                        
  "092": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/location
        object: 
          datatype: literal      
  "099": 
    subfield: 
      a:
        predicate: http://rdf.deichman.no/listCode
        object: 
          datatype: literal

  "100": 
    subfield: 
      a:
        predicate: "http://purl.org/dc/terms/creator" 
        object:
          combine:
            - a
            - c
            - d
          combinestring: "_"       
          prefix: "http://rdf.deichman.no/person/"
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: "http://xmlns.com/foaf/0.1/Person"
          subfield:
            a:
              predicate: "http://xmlns.com/foaf/0.1/name"
              object:
                datatype: literal               
            c:
              predicate: "http://xmlns.com/foaf/0.1/title"
              object:
                datatype: literal
            d:
              predicate: "http://rdf.deichman.no/lifespan"
              object:
                datatype: literal
            j:
              predicate: "http://www.foafrealm.org/xfoaf/0.1/nationality"
              object:
                datatype: uri
                prefix: "http://rdf.deichman.no/nationality/"
                regex_strip: "[\W]+"
            q:
              predicate: "http://www.foafrealm.org/xfoaf/0.1/givenName"
              object:
                datatype: literal
                  
  "110": 
    subfield: 
      a:
        predicate: "http://purl.org/dc/terms/creator"
        object:
          combine:
            - a
            - b
            - q
          combinestring: "_"          
          prefix: "http://rdf.deichman.no/organization/" 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          datatype: uri    
        relation: 
          class: http://xmlns.com/foaf/0.1/Organization
          subfield: 
            a: 
              predicate: http://xmlns.com/foaf/0.1/name
              object:
                combine:
                  - a
                  - b
                  - q
                combinestring: ". "              
                datatype: literal
            c: 
              predicate: http://rdf.deichman.no/conferencePlace
              object: 
                datatype: literal
            d: 
              predicate: http://rdf.deichman.no/conferenceDate
              object: 
                datatype: literal
            n: 
              predicate: http://rdf.deichman.no/corporationNumber
              object: 
                datatype: literal

  "111": 
    subfield: 
      a:
        predicate: "http://purl.org/dc/terms/creator" 
        object: 
          prefix: "http://rdf.deichman.no/conference/"
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          datatype: uri    
        relation: 
          class: http://purl.org/ontology/bibo/Conference
          subfield: 
            a: 
              predicate: http://xmlns.com/foaf/0.1/name
              object: 
                datatype: literal
            c: 
              predicate: http://rdf.deichman.no/conferencePlace
              object: 
                datatype: literal
            d: 
              predicate: http://rdf.deichman.no/conferenceDate
              object: 
                datatype: literal
            n: 
              predicate: http://rdf.deichman.no/corporationNumber
              object: 
                datatype: literal
            q: 
              predicate: http://www.w3.org/1999/02/22-rdf-syntax-ns#description
              object: 
                datatype: literal

  "130|730": 
    subfield: 
      a:
        predicate: "http://purl.org/vocab/frbr/core#embodimentOf" 
        object: 
          prefix: "http://rdf.deichman.no/work/"
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri    
        relation: 
          class: http://purl.org/vocab/frbr/core#Work
          subfield: 
            a: 
              predicate: http://purl.org/dc/terms/title
              object: 
                datatype: literal

# condition indicator 1=0/1=1
# 24000$a (indikator 1=0) Standardtittel legges her hvis det er hovedinnførsel på forfatter. (Autoriseres) Brukes hovedsakelig av Musikkavdelingen
# 24010$a (indikator 1=1) Originaltittel. På oversatte dokumenter registrerer vi alltid originaltittel her hvis denne er kjent. I tillegg bruker vi notefelt 574 
  "240":
    subfield:
      a:
        conditions: 
          indicator:
            indicator1: { "0": 'http://rdf.deichman.no/uniformTitle', "1": 'http://rdf.deichman.no/originalTitle' }
            default: 'http://rdf.deichman.no/originalTitle'
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal

  "(245|246)": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/terms/title
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal
      b: 
        predicate: http://rdvocab.info/Elements/variantTitleForTheWork
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal
      c: 
        predicate: http://rdvocab.info/Elements/statementOfResponsibility
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal
      n: 
        predicate: http://purl.org/ontology/bibo/number
        object: 
          datatype: literal
      p: 
        predicate: http://rdvocab.info/Elements/variantTitleForTheWork
        object: 
          regex_strip: "[\.:,;\/\s]\s*$"
          datatype: literal          
          
          
  "250": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/edition
        object: 
          datatype: literal
      b: 
        predicate: http://rdvocab.info/Elements/statementOfResponsibility
        object:
          regex_strip: "[\.:,;\/\s]\s*$" 
          datatype: literal

  "260": 
    subfield: 
      a: 
        predicate: http://rdf.deichman.no/publicationPlace
        object: 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/publicationPlace/
          datatype: uri
        relation: 
          class: "http://www.geonames.org/ontology#Feature"
          subfield:
            a:
              predicate: "http://www.geonames.org/ontology#name"
              object:
                datatype: literal
                regex_strip: "[\?\[\]\<\>]+"
      b: 
        predicate: http://purl.org/dc/terms/publisher
        object: 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/organization/
          datatype: uri
        relation: 
          class: http://xmlns.com/foaf/0.1/Organization
          subfield:
            b:
              predicate: "http://xmlns.com/foaf/0.1/name"
              object:
                datatype: literal
      c: 
        predicate: http://purl.org/dc/terms/issued
        object: 
          datatype: literal
          
  "300": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/numPages
        object:
          regex_strip: "[\s]*s[\.\s]*$"
          datatype: literal
      b:
        predicate: http://rdf.deichman.no/physicalDescription
        object: 
          datatype: literal
      c:
        predicate: http://rdf.deichman.no/physicalDescription
        object: 
          datatype: literal
      e:
        predicate: http://rdf.deichman.no/physicalDescription
        object: 
          datatype: literal          

  "^5(?!03|21|46|71|72|73|74|90|92|95|99)": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/terms/description
        object: 
          datatype: literal
          lang: :no

  "503": 
    subfield: 
      a: 
        predicate: http://rdf.deichman.no/publicationHistory
        object: 
          datatype: literal
          
  "521": 
    subfield: 
      a: 
        predicate: http://rdf.deichman.no/ageLimit
        object: 
          datatype: literal

  "546": 
    subfield: 
      a: 
        predicate: http://rdf.deichman.no/languageNote
        object: 
          datatype: literal
                    
  "571": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/bibo/identifier
        object: 
          datatype: literal

  "572": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/variantTitleNote
        object: 
          datatype: literal

  "573": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/titleSourceNote
        object: 
          datatype: literal
                    
  "574": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/originalTitleNote
        object: 
          datatype: literal                    

  "590": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/listNote
        object: 
          datatype: literal                     

  "592": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/volumePartNote
        object: 
          datatype: literal 

  "595": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/periodicalCoverage
        object: 
          datatype: literal 

  "599": 
    subfield:
      a: 
        predicate: http://rdf.deichman.no/signatureNote
        object: 
          datatype: literal 
                             
  "700": 
    subfield: 
      a:
        conditions:
## predicates by condition
          subfield:
            e:
              orig: "arr|bearb|biogr|dir|fort|foto|gjendikt|ill|innl|komm|komp|manusforf|medarb|medforf|medf|oppl|overs|red|reg|sang|skuesp|tekstf|t|utg|utøv|forf|eks|k|t|u"
              subs: { arr: 'http://rdf.deichman.no/musicalArranger', bearb: 'http://purl.org/dc/terms/contributor', biogr: 'http://rdf.deichman.no/biographer', dir: 'http://rdf.deichman.no/director', eks: 'http://rdf.deichman.no/perfomer', forf: 'http://purl.org/dc/terms/creator', fort: 'http://purl.org/dc/terms/narrator', foto: 'http://rdf.deichman.no/photographer', gjendikt: 'http://purl.org/ontology/bibo/translator', overs: 'http://purl.org/ontology/bibo/translator', ill: 'http://purl.org/ontology/bibo/illustrator', innl: 'http://rdf.deichman.no/reader', k: 'http://rdf.deichman.no/composer', komm: 'http://rdf.deichman.no/commentator', komp: 'http://rdf.deichman.no/composer', manusforf: 'http://rdf.deichman.no/scriptWriter', medarb: 'http://purl.org/dc/terms/contributor', medforf: 'http://purl.org/dc/terms/creator', medf: 'http://purl.org/dc/terms/creator', oppl: 'http://purl.org/dc/terms/narrator', red: 'http://purl.org/ontology/bibo/editor', reg: 'http://rdf.deichman.no/director', sang: 'http://rdf.deichman.no/singer', skuesp: 'http://rdf.deichman.no/actor', t: 'http://rdf.deichman.no/lyricist', tekstf: 'http://rdf.deichman.no/lyricist', u: 'http://rdf.deichman.no/publisher', utg: 'http://rdf.deichman.no/publisher', utøv: 'http://rdf.deichman.no/perfomer' }
              default: 'http://purl.org/dc/terms/contributor'
        object:
          combine:
            - a
            - b
            - d
          combinestring: "_" 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/person/
          datatype: uri
        relation: 
          class: "http://xmlns.com/foaf/0.1/Person"
          subfield:
            a:
              predicate: "http://xmlns.com/foaf/0.1/name"
              object:
                datatype: literal
            b:
              predicate: "http://purl.org/ontology/bibo/suffixName"
              object:
                datatype: literal                
            c:
              predicate: "http://xmlns.com/foaf/0.1/title"
              object:
                datatype: literal
                lang: :no
            d:
              predicate: "http://rdf.deichman.no/lifespan"
              object:
                datatype: literal
            j:
              predicate: "http://www.foafrealm.org/xfoaf/0.1/nationality"
              object:
                datatype: uri
                prefix: "http://rdf.deichman.no/nationality/"
                regex_strip: "[\W]+"

  "700|700": 
    subfield: 
      t:
        predicate: http://purl.org/dc/terms/hasPart
        object:
          combine:
            - a
            - b
            - d
            - t
          combinestring: "_" 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/work/
          datatype: uri
        relation: 
          class: http://purl.org/vocab/frbr/core#Work
          subfield:
            a:
              predicate: http://purl.org/dc/terms/creator
              object:
                datatype: uri
                combine:
                  - a
                  - b
                  - d
                combinestring: "_" 
                regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
                regex_strip: "[^\w\-]+"
                prefix: http://rdf.deichman.no/person/
            t:
              predicate: "http://purl.org/dc/terms/title"
              object:
                datatype: literal
                lang: :no
       
  "440": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/terms/isPartOf
        object: 
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/resource/
          datatype: uri
        relation: 
          class: http://purl.org/ontology/bibo/Series
      v: 
        predicate: http://rdf.deichman.no/volumeNumber
        object: 
          datatype: literal
      x: 
        predicate: http://purl.org/ontology/bibo/issn
        object: 
          datatype: literal

  "600": 
    subfield: 
      t:
        predicate: http://purl.org/dc/terms/subject
        object:
          combine:
            - a
            - c
            - d
            - t
          combinestring: "_" 
          prefix: http://rdf.deichman.no/subject/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://www.w3.org/2004/02/skos/core#Concept
          subfield:
            a:
              predicate: http://www.w3.org/2004/02/skos/core#prefLabel
              object:
                combine:
                  - a
                  - t
                combinestring: ". "
                datatype: literal
            "1": 
              predicate: http://www.w3.org/2004/02/skos/core#notation
              object: 
                datatype: literal                

  "600|600": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/subject
        object:
          combine:
            - a
            - c
            - d
          combinestring: "_" 
          prefix: http://rdf.deichman.no/subject/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://www.w3.org/2004/02/skos/core#Concept
          subfield:
            a:
              predicate: http://www.w3.org/2004/02/skos/core#prefLabel
              object:
                datatype: literal
            "1": 
              predicate: http://www.w3.org/2004/02/skos/core#notation
              object: 
                datatype: literal  
                
  "600|600|600": 
    subfield: 
      a:
        predicate: http://xmlns.com/foaf/0.1/focus
        object:
          combine:
            - a
            - c
            - d
          combinestring: "_" 
          prefix: http://rdf.deichman.no/person/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://xmlns.com/foaf/0.1/Person
          subfield:
            a:
              predicate: "http://xmlns.com/foaf/0.1/name"
              object:
                datatype: literal               
            c:
              predicate: "http://xmlns.com/foaf/0.1/title"
              object:
                datatype: literal
            d:
              predicate: "http://rdf.deichman.no/lifespan"
              object:
                datatype: literal
            j:
              predicate: "http://www.foafrealm.org/xfoaf/0.1/nationality"
              object:
                datatype: uri
                prefix: "http://rdf.deichman.no/nationality/"
                regex_strip: "[\W]+"
            q:
              predicate: "http://www.foafrealm.org/xfoaf/0.1/givenName"
              object:
                datatype: literal

  "600|600|600|600": 
    subfield: 
      t:
        predicate: http://xmlns.com/foaf/0.1/focus
        object:
          combine:
            - a
            - c
            - d
            - t
          combinestring: "_" 
          prefix: http://rdf.deichman.no/work/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://purl.org/vocab/frbr/core#Work
          subfield:
            t:
              predicate: "http://purl.org/dc/terms/title"
              object:
                datatype: literal
                                
  "610|611": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/subject
        object:
          combine:
            - a
            - b
            - q
          combinestring: "_" 
          prefix: http://rdf.deichman.no/subject/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://www.w3.org/2004/02/skos/core#Concept
          subfield:
            a:
              predicate: http://www.w3.org/2004/02/skos/core#prefLabel
              object:
                combine:
                  - a
                  - b
                  - q
                combinestring: ". "           
                datatype: literal
            "1": 
              predicate: http://www.w3.org/2004/02/skos/core#notation
              object: 
                datatype: literal                

  "610|610|611": 
    subfield: 
      a:
        predicate: http://xmlns.com/foaf/0.1/focus
        object:
          combine:
            - a
            - b
            - q
          combinestring: "_"          
          prefix: "http://rdf.deichman.no/organization/" 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          datatype: uri    
        relation: 
          class: http://xmlns.com/foaf/0.1/Organization
          subfield: 
            a: 
              predicate: http://xmlns.com/foaf/0.1/name
              object:
                combine:
                  - a
                  - b
                  - q
                combinestring: ". "              
                datatype: literal
            c: 
              predicate: http://rdf.deichman.no/conferencePlace
              object: 
                datatype: literal
            d: 
              predicate: http://rdf.deichman.no/conferenceDate
              object: 
                datatype: literal
            n: 
              predicate: http://rdf.deichman.no/corporationNumber
              object: 
                datatype: literal                              

  "630": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/subject
        object:
          combine:
            - a
            - p
            - x
          combinestring: "_" 
          prefix: http://rdf.deichman.no/subject/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://www.w3.org/2004/02/skos/core#Concept
          subfield:
            a:
              predicate: http://www.w3.org/2004/02/skos/core#prefLabel
              object:
                combine:
                  - a
                  - p
                  - x
                combinestring: ". "
                datatype: literal
            "1": 
              predicate: http://www.w3.org/2004/02/skos/core#notation
              object: 
                datatype: literal   

  "630|630": 
    subfield: 
      a:
        predicate: http://xmlns.com/foaf/0.1/focus
        object:
          combine:
            - a
            - p
          combinestring: "_" 
          prefix: http://rdf.deichman.no/work/
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          datatype: uri
        relation: 
          class: http://purl.org/vocab/frbr/core#Work
          subfield:
             a:
              predicate: http://purl.org/dc/terms/title
              object:
                combine:
                  - a
                  - p
                combinestring: ". "
                datatype: literal      

  "(650|653|690|691|692|694|699)": 
    subfield: 
      a:
        predicate: http://purl.org/dc/terms/subject
        object:
          combine:
            - a
            - q
            - x
            - "0"
          combinestring: "_"
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/subject/
          datatype: uri
        relation: 
          class: http://www.w3.org/2004/02/skos/core#Concept
          subfield:
            a: 
              predicate: http://www.w3.org/2004/02/skos/core#prefLabel
              object:
                combine:
                  - a
                  - q
                  - x
                  - "0"
                combinestring: " - "               
                datatype: literal
                lang: :no
            "1": 
              predicate: http://www.w3.org/2004/02/skos/core#notation
              object: 
                datatype: literal


  "652": 
    subfield: 
      a: 
        predicate: http://purl.org/ontology/mo/genre
        object: 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/mogenre/
          datatype: uri
        relation: 
          class: http://purl.org/ontology/mo/Genre
          subfield:
            a: 
              predicate: http://purl.org/dc/terms/title
              object: 
                datatype: literal
                lang: :no

  "655": 
    subfield: 
      a: 
        predicate: http://dbpedia.org/ontology/literaryGenre
        object: 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/literaryGenre/
          datatype: uri
        relation: 
          class: http://dbpedia.org/class/yago/LiteraryGenres
          subfield:
            a: 
              predicate: http://www.w3.org/2000/01/rdf-schema#label
              object: 
                datatype: literal
                lang: :no
                               
  "695": 
    subfield: 
      a: 
        predicate: http://commontag.org/ns#tagged
        object: 
          regex_split: " "
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/keyword/        
          datatype: uri          
        relation: 
          class: http://commontag.org/ns#Tag
          subfield:
            a: 
              predicate: http://commontag.org/ns#label
              object: 
                datatype: literal
                lang: :no

  "710": 
    subfield: 
      a: 
        predicate: http://purl.org/dc/terms/contributor
        object: 
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[^\w\-]+"
          prefix: http://rdf.deichman.no/organization/
          datatype: uri
        relation: 
          class: http://xmlns.com/foaf/0.1/Organization
          subfield:
            a:
              predicate: "http://xmlns.com/foaf/0.1/name"
              object:
                datatype: literal
                lang: :no

  "711": 
    subfield: 
      a:
        predicate: "http://purl.org/dc/terms/contributor" 
        object: 
          prefix: "http://rdf.deichman.no/conference/"
          regex_replace: "Å|Ø|Æ|å|ø|æ|Ä|Ö|ä|ö|\ |[éèêẽ]|[áàâã]|[íìîĩ]|[óòôõ]|[úùûũ]"
          regex_strip: "[\W]+"
          datatype: uri    
        relation:
          class: http://purl.org/ontology/bibo/Conference
          subfield: 
            a: 
              predicate: http://xmlns.com/foaf/0.1/name
              object: 
                datatype: literal

  "740":
    subfield:
      a:
        conditions: 
          indicator:
            indicator2: { "0": 'http://purl.org/dc/terms/alternative', "2": 'http://purl.org/dc/terms/hasPart' }
            default: 'http://purl.org/dc/terms/alternative'
        object: 
          datatype: literal               
          
  "760": 
    subfield: 
      w: 
        predicate: http://purl.org/dc/terms/isPartOf
        object:
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/resource/tnr_
          datatype: uri
  
  "780": 
    subfield: 
      w: 
        predicate: http://dbpedia.org/ontology/previousWork
        object:
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/resource/tnr_
          datatype: uri

  "785": 
    subfield: 
      w: 
        predicate: http://dbpedia.org/ontology/subsequentWork
        object:
          regex_strip: "[\W]+"
          prefix: http://rdf.deichman.no/resource/tnr_
          datatype: uri
                             
  "856": 
    subfield: 
      u: 
        predicate: http://purl.org/spar/fabio/hasURL
        object:
          datatype: uri
 
